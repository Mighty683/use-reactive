{"version":3,"file":"index.es.js","sources":["../src/index.ts"],"sourcesContent":["import { useState } from 'react';\n\nexport class Observable<T> {\n  constructor(value: T, ) {\n    this.value = value;\n  }\n  value: T\n}\n\nexport default (function() {\n  let _proxy: Observable<any>;\n  return function useReactive<T>(value: T): Observable<T>{\n    const [valueState, setValueState] = useState(value);\n    if (_proxy) {\n      _proxy = _proxy;\n    } else {\n      let observable = new Observable(valueState);\n      _proxy = new Proxy(observable, {\n        set(object, prop, newValue, receiver) {\n          if (prop === 'value' && receiver === _proxy) {\n            object[prop] = newValue;\n            setValueState(newValue);\n            return true;\n          } else {\n            return false;\n          }\n        },\n      });\n    }\n\n    return <Observable<T>>_proxy;\n  };\n})();\n"],"names":[],"mappings":";;;IAGE,oBAAY,KAAQ;QAClB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;KACpB;IAEH,iBAAC;CAAA,IAAA;AAED,YAAe,CAAC;IACd,IAAI,MAAuB,CAAC;IAC5B,OAAO,qBAAwB,KAAQ;QAC/B,IAAA,oBAA6C,EAA5C,kBAAU,EAAE,qBAAa,CAAoB;QACpD,IAAI,MAAM,EAAE;YACV,MAAM,GAAG,MAAM,CAAC;SACjB;aAAM;YACL,IAAI,UAAU,GAAG,IAAI,UAAU,CAAC,UAAU,CAAC,CAAC;YAC5C,MAAM,GAAG,IAAI,KAAK,CAAC,UAAU,EAAE;gBAC7B,GAAG,YAAC,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,QAAQ;oBAClC,IAAI,IAAI,KAAK,OAAO,IAAI,QAAQ,KAAK,MAAM,EAAE;wBAC3C,MAAM,CAAC,IAAI,CAAC,GAAG,QAAQ,CAAC;wBACxB,aAAa,CAAC,QAAQ,CAAC,CAAC;wBACxB,OAAO,IAAI,CAAC;qBACb;yBAAM;wBACL,OAAO,KAAK,CAAC;qBACd;iBACF;aACF,CAAC,CAAC;SACJ;QAED,OAAsB,MAAM,CAAC;KAC9B,CAAC;CACH,GAAG,CAAC;;;;;"}